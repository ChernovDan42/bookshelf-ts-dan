{"version":3,"file":"static/js/129.f35f0c5d.chunk.js","mappings":"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","sources":["webpack://bookshelf-ts-dan/./src/components/BookBuyLinks/BookBuyLinks.module.css?25b3","components/BookBuyLinks/BookBuyLinks.tsx","ts/localStorageService.ts","components/ModalBook/AddOrRemoveBookButton/ToggleBookBtn.tsx","webpack://bookshelf-ts-dan/./src/components/ModalBook/ModalBook.module.css?8f18","components/ModalBook/TypographyBlock/TypographyBlock.tsx","components/ModalBook/ModalBook.tsx","ts/helpers.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"buyLinksList\":\"BookBuyLinks_buyLinksList__EBdX1\",\"amazon\":\"BookBuyLinks_amazon__Hstaw\",\"ibooks\":\"BookBuyLinks_ibooks__r6G8y\",\"bookShop\":\"BookBuyLinks_bookShop__2fEwD\",\"itemLink\":\"BookBuyLinks_itemLink__WZcK4\"};","import amazon2x from 'images/Amazon@2x.png';\nimport ibooks2x from 'images/ibooks@2x.png';\nimport bookShop2x from 'images/bookShop@2x.png';\nimport amazon from 'images/Amazon.png';\nimport ibooks from 'images/ibooks.png';\nimport bookShop from 'images/bookShop.png';\nimport amazonLight from 'images/AmazonLight.png';\nimport amazonLight2x from 'images/AmazonLight@2x.png';\n\nimport style from './BookBuyLinks.module.css';\n\nimport { Book } from 'Types';\nimport { useTheme } from '@mui/system';\nimport { List } from '@mui/material';\n\ntype Props = {\n  book: Book;\n};\n\nexport const BookBuyLinks = ({ book }: Props) => {\n  const theme = useTheme();\n  const isDarkTheme = theme.palette.mode === 'dark';\n  const isRetina = window.devicePixelRatio > 1.1;\n  return (\n    <>\n      <List\n        className={style.buyLinksList}\n        sx={{\n          width: 'fit-content',\n          padding: '0 5px',\n        }}\n      >\n        {book.buy_links.map(link => {\n          if (link.name === 'Amazon') {\n            return (\n              <li key={link.name} className={style.itemLink}>\n                <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <img\n                    src={\n                      isDarkTheme\n                        ? isRetina\n                          ? amazonLight2x\n                          : amazonLight\n                        : isRetina\n                        ? amazon2x\n                        : amazon\n                    }\n                    alt=\"Amazon link\"\n                    className={style.amazon}\n                  />\n                </a>\n              </li>\n            );\n          } else if (link.name === 'Apple Books') {\n            return (\n              <li key={link.name} className={style.itemLink}>\n                <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <img\n                    src={isRetina ? ibooks2x : ibooks}\n                    alt=\"Apple Books link\"\n                    className={style.ibooks}\n                  />\n                </a>\n              </li>\n            );\n          } else if (link.name === 'Bookshop') {\n            return (\n              <li key={link.name} className={style.itemLink}>\n                <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <img\n                    src={isRetina ? bookShop2x : bookShop}\n                    alt=\"Bookshop link\"\n                    className={style.bookShop}\n                  />\n                </a>\n              </li>\n            );\n          } else {\n            return undefined;\n          }\n        })}\n      </List>\n    </>\n  );\n};\n","import { Book } from \"Types\";\n\nexport const saveToLocalStorage = (key:string, data:object) => {\n  localStorage.setItem(key, JSON.stringify(data));\n};\n\n// Отримання масиву з localStorage\n export const loadFromLocalStorage = (key:string) => {\n  const data = localStorage.getItem(key);\n  return data ? JSON.parse(data) : [];\n};\n\n// Додавання об'єкта до масиву в localStorage\nexport const addObjectToLocalArray = (key:string, object:object) => {\n  const existingData = loadFromLocalStorage(key);\n  const newData = [...existingData, object];\n  saveToLocalStorage(key, newData);\n  return newData\n};\n\n// Видалення об'єкта з масиву в localStorage за індексом\nexport const removeObjectFromLocalArray = (key:string, object:Book) => {\n  const existingData = loadFromLocalStorage(key);\n  const newData = existingData.filter((book:Book) => book._id !== object._id);\n  saveToLocalStorage(key, newData);\n  return newData\n};","import { useEffect, useState } from 'react';\nimport { Box, Button } from '@mui/material';\nimport { toast } from 'react-toastify';\nimport {\n  loadFromLocalStorage,\n  addObjectToLocalArray,\n  removeObjectFromLocalArray,\n} from 'ts/localStorageService';\nimport { Book } from 'Types';\n\nconst buttonStyles = {\n  borderRadius: '40px',\n  border: '2px solid #4F2EE8',\n  padding: '14px 18px',\n  transition: 'backgroundColor 0.3s ease-in -out, color 0.5s ease-in-out',\n\n  color: 'text.primary',\n\n  mr: 'auto',\n  ml: 'auto',\n  '&:hover': {\n    backgroundColor: '#4F2EE8',\n    color: '#FFF',\n  },\n};\n\ntype Props = {\n  book: Book;\n};\n\nexport const ToggleBookBtn = ({ book }: Props) => {\n  const [toggle, setToggle] = useState(false);\n  const [data, setData] = useState(loadFromLocalStorage('books'));\n\n  useEffect(() => {\n    const isBookAdded = data.find((bookEl: Book) => bookEl._id === book._id);\n    setToggle(isBookAdded);\n  }, [book._id, data]);\n\n  const addBook = (key: string, object: object) => {\n    const newData = addObjectToLocalArray(key, object);\n    setData(newData);\n    toast.success('Book successfully added to your bag');\n  };\n\n  const removeBook = (key: string, object: Book) => {\n    const newData = removeObjectFromLocalArray(key, object);\n    setData(newData);\n    toast.error('Book successfully removed from your bag');\n  };\n\n  return (\n    <Box sx={{ display: 'flex', justifyContent: 'center' }}>\n      <Button\n        onClick={\n          toggle\n            ? () => removeBook('books', book)\n            : () => addBook('books', book)\n        }\n        sx={buttonStyles}\n      >\n        {toggle ? 'Remove from shopping list' : 'Add to shopping list'}\n      </Button>\n    </Box>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"modalBox\":\"ModalBook_modalBox__j99fY\",\"thumb\":\"ModalBook_thumb__638K3\",\"flexBox\":\"ModalBook_flexBox__7XgzS\",\"bookInfoBox\":\"ModalBook_bookInfoBox__Ajnsk\",\"closeBtn\":\"ModalBook_closeBtn__Y8R4a\"};","import { Typography } from '@mui/material';\nimport { noBookDescription } from 'constants/index';\nimport { Book } from 'Types';\n\n\ntype Props = {\n  book: Book;\n};\n\nexport const TypographyBlock = ({ book }: Props) => {\n  return (\n    <>\n      <Typography\n        sx={{\n          fontSize: '24px',\n          fontWeight: 700,\n          lineHeight: '28px',\n          letterSpacing: '-0.96px',\n          mb: '8px',\n        }}\n      >\n        {book.title}\n      </Typography>\n      <Typography\n        variant=\"body2\"\n        color=\"text.categoryTitle\"\n        sx={{ mb: '18px' }}\n      >\n        {book.author}\n      </Typography>\n      <Typography variant=\"body1\" sx={{ mb: '18px' }}>\n        {book.description ? book.description : noBookDescription}\n      </Typography>\n    </>\n  );\n};\n","import { Backdrop, Box, Fade, Modal, useTheme } from '@mui/material';\nimport { Book } from 'Types';\nimport { ToggleBookBtn } from './AddOrRemoveBookButton/ToggleBookBtn';\nimport { BookBuyLinks } from '../BookBuyLinks/BookBuyLinks';\nimport CloseIcon from '@mui/icons-material/Close';\n\nimport style from './ModalBook.module.css';\nimport { TypographyBlock } from './TypographyBlock/TypographyBlock';\n\ntype Props = {\n  handleClose: () => void;\n  isOpenModal: boolean;\n  book: Book;\n};\n\nexport const ModalBook = ({ isOpenModal, handleClose, book }: Props) => {\n  const theme = useTheme();\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        open={isOpenModal}\n        onClose={handleClose}\n        closeAfterTransition\n        slots={{ backdrop: Backdrop }}\n        slotProps={{\n          backdrop: {\n            timeout: 500,\n          },\n        }}\n      >\n        <Fade in={isOpenModal}>\n          <Box\n            className={style.modalBox}\n            sx={{\n              bgcolor: 'background.paper',\n              outline: 0,\n              border:\n                theme.palette.mode === 'light'\n                  ? '2px solid #111'\n                  : '2px solid #FFF',\n              width: '332px',\n              padding: '40px 22px',\n              '@media screen and (min-width:768px)': {\n                width: '579px',\n                padding: '40px',\n              },\n            }}\n          >\n            <CloseIcon\n              className={style.closeBtn}\n              onClick={handleClose}\n              sx={{\n                transition: 'transform 0.2s ease-in-out',\n                '&:hover': {\n                  transform: 'scale(1.3)',\n                },\n              }}\n              aria-label=\"Close book info button\"\n            />\n            <Box className={style.flexBox}>\n              <Box className={style.thumb}>\n                <img src={book.book_image} alt=\"book label\" loading=\"lazy\" />\n              </Box>\n              <Box className={style.bookInfoBox}>\n                <TypographyBlock book={book} />\n                <BookBuyLinks book={book} />\n              </Box>\n            </Box>\n            <ToggleBookBtn book={book} />\n          </Box>\n        </Fade>\n      </Modal>\n    </div>\n  );\n};\n"," export function truncateBookName(bookName: string, maxLength = 99) {\n    if (bookName.length > maxLength) {\n      return `${bookName.slice(0, maxLength - 3)}...`;\n    } else {\n      return bookName;\n    }\n  }"],"names":["BookBuyLinks","_ref","book","isDarkTheme","useTheme","palette","mode","isRetina","window","devicePixelRatio","_jsx","_Fragment","children","List","className","style","sx","width","padding","buy_links","map","link","name","href","url","target","rel","src","alt","saveToLocalStorage","key","data","localStorage","setItem","JSON","stringify","loadFromLocalStorage","getItem","parse","buttonStyles","borderRadius","border","transition","color","mr","ml","backgroundColor","ToggleBookBtn","toggle","setToggle","useState","setData","useEffect","isBookAdded","find","bookEl","_id","addBook","object","newData","addObjectToLocalArray","toast","success","removeBook","removeObjectFromLocalArray","filter","error","Box","display","justifyContent","Button","onClick","TypographyBlock","_jsxs","Typography","fontSize","fontWeight","lineHeight","letterSpacing","mb","title","variant","author","description","noBookDescription","ModalBook","isOpenModal","handleClose","theme","Modal","open","onClose","closeAfterTransition","slots","backdrop","Backdrop","slotProps","timeout","Fade","in","bgcolor","outline","CloseIcon","transform","book_image","loading","truncateBookName","bookName","maxLength","arguments","length","undefined","concat","slice"],"sourceRoot":""}